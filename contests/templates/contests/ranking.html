{% extends 'base.html' %}
{% load static %}

{% block title %}Classement - {{ trial.title }}{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'contests/css/ranking.css' %}">
{% endblock %}

{% block content %}
    <main class="main-content">
        <div class="dashboard-header">
            <div class="header-info">
                <h2>Classement pour {{ trial.title }}</h2>
                <p class="event-description">√âv√©nement : {{ event.title }}</p>
            </div>
            <a href="{% url 'contests:trials' event.id %}" class="btn btn-secondary">
                <span class="btn-icon">‚¨ÖÔ∏è</span>
                Retour aux √âpreuves
            </a>
        </div>

        {% if messages %}
            {% for message in messages %}
                <div class="message {{ message.tags }}">{{ message }}</div>
            {% endfor %}
        {% endif %}

        <div class="ranking-list">
            {% if rankings %}
                {% for rank in rankings %}
                    <div class="ranking-card">
                        <div class="ranking-badge">{{ forloop.counter }}</div>
                        <div class="ranking-content">
                            <h3>{{ rank.user.username }}</h3>
                            <p class="ranking-info">
                                <strong>Comp√©titeur :</strong> {{ rank.competitor }}<br>
                                <strong>Nombre de votes :</strong> {{ rank.vote_count }}
                            </p>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="no-content">
                    <div class="no-content-icon">üèÖ</div>
                    <h3>Aucun classement disponible</h3>
                    <p>Il n'y a pas encore de soumissions publi√©es ou de votes pour cette √©preuve.</p>
                </div>
            {% endif %}
        </div>
    </main>
{% endblock %}